"use strict";document.addEventListener("DOMContentLoaded",function(){var d=0,t=0,s=!1,e=document.querySelector(".formula__slider"),n=document.querySelectorAll(".formula__item"),o=n.length;function c(){n.forEach(function(e,t){var s=t-d,n=50*s,c=(o/2<s?n-=50*o:s<-o/2&&(n+=50*o),t===d?1:.8),n=(e.style.transform="translateX(".concat(n,"%) scale(").concat(c,")"),e.style.zIndex=t===d?2:1,Math.abs(s)<=1||0===t&&d===o-1||t===o-1&&0===d),c=(e.classList.toggle("hidden",!n),e.classList.toggle("active",t===d),e.classList.remove("left-slide","right-slide"),1==s||d===o-1&&0===t?e.classList.add("right-slide"):(-1==s||0===d&&t===o-1)&&e.classList.add("left-slide"),document.querySelector(".winner")),n=document.querySelector(".choose"),s=document.querySelector(".closed");"winner"===e.dataset.block&&e.classList.contains("active")&&(c.classList.remove("_hidden"),n.classList.add("_hidden"),s.classList.add("_hidden")),"choose"===e.dataset.block&&e.classList.contains("active")&&(n.classList.remove("_hidden"),c.classList.add("_hidden"),s.classList.add("_hidden")),"closed"===e.dataset.block&&e.classList.contains("active")&&(s.classList.remove("_hidden"),c.classList.add("_hidden"),n.classList.add("_hidden"))})}function i(e){d=(d+e+o)%o,c()}function a(e){s=!0,t=e.clientX||e.touches[0].clientX}function l(e){s&&(e=(e.clientX||e.touches[0].clientX)-t,50<Math.abs(e))&&(i(0<e?-1:1),s=!1)}function r(){s=!1}var u=document.querySelectorAll(".formula__control-left"),m=document.querySelectorAll(".formula__control-right");u.forEach(function(e){e.addEventListener("click",function(){i(-1)})}),m.forEach(function(e){e.addEventListener("click",function(){i(1)})}),e.addEventListener("mousedown",a),e.addEventListener("touchstart",a),document.addEventListener("mousemove",l),document.addEventListener("touchmove",l),document.addEventListener("mouseup",r),document.addEventListener("touchend",r),c()});